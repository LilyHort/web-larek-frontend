# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Описание проекта
Проект интернет-магазина, разработанного с использованием паттерна проектирования MVP.

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовыt классы
### Класс EventEmitter:
Класс EventEmitter обеспечивает работу событий. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события.

`constructor()` - cоздает новый экземпляр класса EventEmitter.

Методы:
  - `on` - устанавливает обработчик для события.
  - `off` - удаляет обработчик для события.
  - `emit` - инициирует событие с переданными данными.
  - `onAll` - устанавливает обработчик для всех событий.
  - `offAll` - удаляет все обработчики событий.
  - `trigger` - создает триггер, который генерирует событие при вызове.

### Класс API:
Класс API обеспечивает базовые методы для работы с сервером. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события.

`constructor(baseUrl: string, options: RequestInit = {})` - cоздает новый экземпляр класса API с указанным базовым URL и опциями запроса.

Методы:
  - `get` - выполняет GET запрос на сервер.
  - `post` - выполняет POST запрос на сервер.

### Класс Model<T>:
Абстрактный класс Model используется для представления модели данных, которые используются в приложении.

`constructor(data: Partial<T>, events: IEvents)` - cоздает новый экземпляр класса Model с заданными данными и объектом для управления событиями.

Методы:
  - `emitChanges` - cообщает всем подписчикам об изменениях в модели.

### Component<T>:
Абстрактный класс Component используется для создания UI компонентов.

`constructor(container: HTMLElement)` - принимает элемент с которым будет происходить взаимодействие.

Методы:
  - `toggleClass` - переключает класс для элемента.
  - `setText` - устанавливает текст элемента.
  - `setImage` - устанавливает изображение элемента.
  - `setDisabled` - изменяет статус блокировки элемента.
  - `setHidden` - скрывает элемент.
  - `setVisible` - отоброжает элемент.
  - `render` - генерирует компонент.

### Form:
Класс Form наследуется от Component. Служит для отображения форф, валидации и сабмита.

Методы:
  - `set valid` - устанавливает доступность кнопки сабмита.
  - `set errors` - устанавливает ошибки формы.

Свойства:
  - `_submit` - кнопка отправки формы.
  - `_errors` - элемент отображения ошибок формы.

### Modal
Класс Modal выполняет функцию отображения модального окна и данных в нем. Наследуется от Component.

Методы:
  - `open` - открывает модальное окно и создает событие открытия.
  - `close` - закрывает модальное окно и создает событие закрытия.

Свойства:
  - `_content: HTMLElement` - компонент для отображения в модальном окне.

## Компоненты

### MainPageUI
Компонент выполняет функцию отображения главной страницы приложения, включая каталог товаров и кол-во товаров в корзине. Наследуется от Component.

Методы:
  - `set catalog` - устанавливает элементы каталога.
  - `set counter` - устанавливает счетчик корзины.

Свойства:
  - `_catalog: HTMLElement` - каталог продуктов на странице.
  - `_counter: HTMLElement` - счетчик корзины.

### ProductCardUI
Компонент выполняет функцию отображения информации о продукте. Исползуется для отображения в каталоге, в карточке продукта и в списке товаров в корзине. Наследуется от Component.

Свойства:
  - `_title: HTMLElement` - заголовок продукта.
  - `_image: HTMLImageElement` - изображение продукта.
  - `_description: HTMLElement` - описания продукта.
  - `_category: HTMLElement` - категории продукта.
  - `_price: HTMLElement` - цена продукта.
  - `_index: HTMLElement` - номер продукта в корзине.
  - `_button: HTMLButtonElement` - кнопка добавления в корзину или удаления из корзины.

### BasketUI
Компонент выполняет функцию отображения товаров в корзине (в модальном окне) и управления ими. Наследуется от Component.

Методы:
  - `set items` - устанавливает список товаров в корзине.
  - `set total` - устанавливает общую стоимость товаров в корзине.

Свойства:
  - `_items: HTMLElement` - список товаров в корзине.
  - `_total: HTMLElement` - стоимость товаров в корзине.
  - `_button: HTMLElement` - кнопка для оформления заказа.

### PaymentFormUI
Компонент выполняет функцию отображения формы оплаты и взаимодействию с ней. Наследуется от Form.

Методы:
  - `set payment` - устанавливает способ оплаты.
  - `set address` - устанавливает адрес доставки.

Свойства:
  - `_paymentOnline: HTMLElement` - кнопка оплаты онлайн.
  - `_paymentOffline: HTMLElement` - кнопка оплаты оффлай.
  - `_address: HTMLElement` - адрес доставки.

### ContactFormUI
Компонент выполняет функцию отображения формы с контактами и взаимодействию с ней. Наследуется от Form.

Методы:
  - `set email` - устанавливает email.
  - `set phone` - устанавливает номер телефона.

Свойства:
  - `_email: HTMLElement` - email.
  - `_phone: HTMLElement` - номер телефона.

### PurchaseResultUI
Компонент выполняет функцию отображения результата покупки. Наследуется от Component.

Методы:
  - `set total` - устанавливает сумму списания.

Свойства:
  - `_closeButton: HTMLElement` - кнопка закрытия.
  - `_total: HTMLElement` - сумма списания.

## Ключевые типы данных
Описаны в src/types/index.ts 
